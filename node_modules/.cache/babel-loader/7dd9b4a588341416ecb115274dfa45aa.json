{"remainingRequest":"/home/stas/testexchange/node_modules/babel-loader/lib/index.js!/home/stas/testexchange/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/stas/testexchange/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/stas/testexchange/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/stas/testexchange/src/App.vue?vue&type=template&id=7ba5bd90","dependencies":[{"path":"/home/stas/testexchange/src/App.vue","mtime":1635848475394},{"path":"/home/stas/testexchange/babel.config.js","mtime":1635497969530},{"path":"/home/stas/testexchange/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/stas/testexchange/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/stas/testexchange/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/home/stas/testexchange/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/stas/testexchange/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sgfSBmcm9tICJ2dWUiOwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X0hlYWRlciA9IF9yZXNvbHZlQ29tcG9uZW50KCJIZWFkZXIiKTsKCiAgdmFyIF9jb21wb25lbnRfcm91dGVyX3ZpZXcgPSBfcmVzb2x2ZUNvbXBvbmVudCgicm91dGVyLXZpZXciKTsKCiAgdmFyIF9jb21wb25lbnRfTG9hZGVyID0gX3Jlc29sdmVDb21wb25lbnQoIkxvYWRlciIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0hlYWRlciksIF9jcmVhdGVFbGVtZW50Vk5vZGUoIm1haW4iLCBudWxsLCBbJGRhdGEuaW5mb0xvYWRlZCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X3JvdXRlcl92aWV3LCB7CiAgICBrZXk6IDAsCiAgICBzdW1PZkJvdWdodDogJGRhdGEuc3VtT2ZCb3VnaHQsCiAgICBuYW1lT2ZCb3VnaHRDdXJyZW5jeTogJGRhdGEubmFtZU9mQm91Z2h0Q3VycmVuY3ksCiAgICBjb3VudE9mQm91Z2h0Q3VycmVuY3k6ICRkYXRhLmNvdW50T2ZCb3VnaHRDdXJyZW5jeSwKICAgIGluZm86ICRkYXRhLmluZm8sCiAgICBjcmVkaXQ6ICRkYXRhLmNyZWRpdCwKICAgIGN1cnJlbmNpZXM6ICRkYXRhLmN1cnJlbmNpZXMsCiAgICBzZXRDdXJyZW5jeTogJGRhdGEuc2V0Q3VycmVuY3ksCiAgICBjb3VudE9mQ3VycmVuY3k6ICRkYXRhLmNvdW50T2ZDdXJyZW5jeSwKICAgIGNvdW50T2ZDdXJyZW5jeVRvQnV5OiAkZGF0YS5jb3VudE9mQ3VycmVuY3lUb0J1eSwKICAgIGNvdW50T2ZDdXJyZW5jeUZvclNhbGU6ICRkYXRhLmNvdW50T2ZDdXJyZW5jeUZvclNhbGUsCiAgICBjdXJyZW5jeUZvclNhbGU6ICRkYXRhLmN1cnJlbmN5Rm9yU2FsZSwKICAgIGN1cnJlbmN5VG9CdXk6ICRkYXRhLmN1cnJlbmN5VG9CdXksCiAgICBpbnB1dEVycm9yOiAkZGF0YS5pbnB1dEVycm9yLAogICAgb25DaGFuZ2VGb3JTYWxlQ3VycmVuY3lWYWx1ZTogJG9wdGlvbnMuY2hhbmdlRm9yU2FsZUN1cnJlbmN5VmFsdWUsCiAgICBvbkNoYW5nZVRvQnV5Q3VycmVuY3lWYWx1ZTogJG9wdGlvbnMuY2hhbmdlVG9CdXlDdXJyZW5jeVZhbHVlLAogICAgb25Db3VudE9mQ3VycmVuY3lGdW5jOiAkb3B0aW9ucy5jb3VudE9mQ3VycmVuY3lGdW5jLAogICAgb25Td2l0Y2hWYWx1ZXNFeGNoYW5nZTogJG9wdGlvbnMuc3dpdGNoVmFsdWVzRXhjaGFuZ2UsCiAgICBvbkJ1eUN1cnJlbmN5OiAkb3B0aW9ucy5idXlDdXJyZW5jeQogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJzdW1PZkJvdWdodCIsICJuYW1lT2ZCb3VnaHRDdXJyZW5jeSIsICJjb3VudE9mQm91Z2h0Q3VycmVuY3kiLCAiaW5mbyIsICJjcmVkaXQiLCAiY3VycmVuY2llcyIsICJzZXRDdXJyZW5jeSIsICJjb3VudE9mQ3VycmVuY3kiLCAiY291bnRPZkN1cnJlbmN5VG9CdXkiLCAiY291bnRPZkN1cnJlbmN5Rm9yU2FsZSIsICJjdXJyZW5jeUZvclNhbGUiLCAiY3VycmVuY3lUb0J1eSIsICJpbnB1dEVycm9yIiwgIm9uQ2hhbmdlRm9yU2FsZUN1cnJlbmN5VmFsdWUiLCAib25DaGFuZ2VUb0J1eUN1cnJlbmN5VmFsdWUiLCAib25Db3VudE9mQ3VycmVuY3lGdW5jIiwgIm9uU3dpdGNoVmFsdWVzRXhjaGFuZ2UiLCAib25CdXlDdXJyZW5jeSJdKSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9Mb2FkZXIsIHsKICAgIGtleTogMQogIH0pKV0pXSwgNjQKICAvKiBTVEFCTEVfRlJBR01FTlQgKi8KICApOwp9"},{"version":3,"sources":["/home/stas/testexchange/src/App.vue"],"names":[],"mappings":";;;;;;;;6DACE,YAAA,CAAU,iBAAV,C,EACA,mBAAA,CAuBO,MAvBP,EAuBO,IAvBP,EAuBO,CArBG,KAAA,CAAA,U,kBADR,YAAA,CAoBE,sBApBF,EAoBE;UAAA;AAlBC,IAAA,WAAW,EAAE,KAAA,CAAA,WAkBd;AAjBC,IAAA,oBAAoB,EAAE,KAAA,CAAA,oBAiBvB;AAhBC,IAAA,qBAAqB,EAAE,KAAA,CAAA,qBAgBxB;AAfC,IAAA,IAAI,EAAE,KAAA,CAAA,IAeP;AAdC,IAAA,MAAM,EAAE,KAAA,CAAA,MAcT;AAbC,IAAA,UAAU,EAAE,KAAA,CAAA,UAab;AAZC,IAAA,WAAW,EAAE,KAAA,CAAA,WAYd;AAXC,IAAA,eAAe,EAAE,KAAA,CAAA,eAWlB;AAVC,IAAA,oBAAoB,EAAE,KAAA,CAAA,oBAUvB;AATC,IAAA,sBAAsB,EAAE,KAAA,CAAA,sBASzB;AARC,IAAA,eAAe,EAAE,KAAA,CAAA,eAQlB;AAPC,IAAA,aAAa,EAAE,KAAA,CAAA,aAOhB;AANC,IAAA,UAAU,EAAE,KAAA,CAAA,UAMb;AALC,IAAA,4BAA0B,EAAE,QAAA,CAAA,0BAK7B;AAJC,IAAA,0BAAwB,EAAE,QAAA,CAAA,wBAI3B;AAHC,IAAA,qBAAmB,EAAE,QAAA,CAAA,mBAGtB;AAFC,IAAA,sBAAoB,EAAE,QAAA,CAAA,oBAEvB;AADC,IAAA,aAAW,EAAE,QAAA,CAAA;AACd,GApBF,E,IAAA,E;;AAAA,I,wWAAA,C,mBAqBA,YAAA,CAAiB,iBAAjB,EAAiB;AAAA,IAAA,GAAA,EAAA;AAAA,GAAjB,C,CACK,CAvBP,C","sourcesContent":["<template>\n  <Header />\n  <main>\n    <router-view\n      v-if=\"infoLoaded\"\n      :sumOfBought=\"sumOfBought\"\n      :nameOfBoughtCurrency=\"nameOfBoughtCurrency\"\n      :countOfBoughtCurrency=\"countOfBoughtCurrency\"\n      :info=\"info\"\n      :credit=\"credit\"\n      :currencies=\"currencies\"\n      :setCurrency=\"setCurrency\"\n      :countOfCurrency=\"countOfCurrency\"\n      :countOfCurrencyToBuy=\"countOfCurrencyToBuy\"\n      :countOfCurrencyForSale=\"countOfCurrencyForSale\"\n      :currencyForSale=\"currencyForSale\"\n      :currencyToBuy=\"currencyToBuy\"\n      :inputError=\"inputError\"\n      @changeForSaleCurrencyValue=\"changeForSaleCurrencyValue\"\n      @changeToBuyCurrencyValue=\"changeToBuyCurrencyValue\"\n      @countOfCurrencyFunc=\"countOfCurrencyFunc\"\n      @switchValuesExchange=\"switchValuesExchange\"\n      @buyCurrency=\"buyCurrency\"\n    />\n    <Loader v-else />\n  </main>\n</template>\n\n<script>\nimport Header from \"./Navigation/Header/Header\";\nimport Loader from \"./views/Loader\";\nexport default {\n  components: {\n    Header,\n    Loader,\n  },\n  data() {\n    return {\n      info: [],\n      currencies: [\"UAH\", \"USD\", \"BTC\", \"ETH\", \"EUR\"],\n      currencyForSale: \"UAH\",\n      currencyToBuy: \"UAH\",\n      setCurrency: [\"currencyForSale\", \"currencyToBuy\"],\n      countOfCurrency: 0,\n      countOfCurrencyToBuy: 0,\n      countOfCurrencyForSale: 0,\n      infoLoaded: false,\n      credit: 7000000,\n      sumOfBought: 0,\n      nameOfBoughtCurrency: \"\",\n      countOfBoughtCurrency: 0,\n      inputError: false,\n    };\n  },\n  async mounted() {\n    const axios = require(\"axios\");\n    await axios\n      .get(\"https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd\")\n      .then((response) => (this.info = response.data))\n      .then(() => this.filterArrInfo());\n    await axios\n      .get(\n        \"https://v6.exchangerate-api.com/v6/84151c916aabea918fea11e7/latest/USD\"\n      )\n      .then((response) =>\n        this.filterArrInfoFiat(response.data.conversion_rates)\n      )\n      .then(() => (this.infoLoaded = true));\n    await console.log(this.info);\n  },\n  methods: {\n    changeForSaleCurrencyValue(value) {\n      this.currencyForSale = value;\n    },\n    changeToBuyCurrencyValue(value) {\n      this.currencyToBuy = value;\n    },\n    countOfCurrencyFunc(obj) {\n      if (obj.type === \"forSale\") {\n        this.countOfCurrency = Number(obj.input);\n        this.countOfCurrencyForSale = this.countOfCurrency;\n        this.countOfCurrencyToBuy = this.editToBuyValue();\n        this.inputError = false;\n      } else if (obj.type === \"toBuy\") {\n        this.countOfCurrency = Number(obj.input);\n        this.countOfCurrencyToBuy = this.countOfCurrency;\n        this.countOfCurrencyForSale = this.editForSaleValue();\n        this.inputError = false;\n      } else {\n        this.inputError = true;\n      }\n    },\n    editToBuyValue() {\n      return Number(\n        (this.countOfCurrency /\n          this.info.filter((el) => el.name === this.currencyForSale)[0].price) *\n          this.info.filter((el) => el.name === this.currencyToBuy)[0].price\n      );\n    },\n    editForSaleValue() {\n      return Number(\n        (this.countOfCurrency /\n          this.info.filter((el) => el.name === this.currencyToBuy)[0].price) *\n          this.info.filter((el) => el.name === this.currencyForSale)[0].price\n      );\n    },\n    filterArrInfo() {\n      this.info = this.info.filter((el) => {\n        for (let i = 0; i < this.currencies.length; i++) {\n          if (el.symbol === this.currencies[i].toLowerCase()) {\n            return true;\n          }\n        }\n      });\n      for (let i = 0; i < this.info.length; i++) {\n        const obj = {};\n        obj.name = this.info[i].symbol.toUpperCase();\n        obj.price = Math.pow(Number(this.info[i].ath), -1);\n        this.info[i] = obj;\n      }\n    },\n    filterArrInfoFiat(obj) {\n      for (let el in obj) {\n        for (let i = 0; i < this.currencies.length; i++) {\n          if (el === this.currencies[i]) {\n            this.info.push({ name: el, price: obj[el] });\n          }\n        }\n      }\n    },\n    switchValuesExchange() {\n      const currencyForSaleDef = this.currencyForSale;\n      const countOfCurrencyToBuyDef = this.countOfCurrencyToBuy;\n      this.currencyForSale = this.currencyToBuy;\n      this.currencyToBuy = currencyForSaleDef;\n      this.countOfCurrencyToBuy = this.countOfCurrencyForSale;\n      this.countOfCurrencyForSale = countOfCurrencyToBuyDef;\n      console.log(this.currencyForSale + \"  \" + this.currencyToBuy);\n    },\n    buyCurrency() {\n      if (this.currencyToBuy !== \"UAH\") {\n        this.sumOfBought = this.credit;\n        this.countOfBoughtCurrency = this.countOfCurrencyToBuy;\n        this.nameOfBoughtCurrency = this.currencyToBuy;\n        this.credit = this.credit - this.convertMoneyToUah();\n        this.sumOfBought = this.sumOfBought - this.credit;\n        if (this.credit < 0) {\n          this.credit = 0;\n        }\n      } else if (this.currencyToBuy === \"UAH\") {\n        this.sumOfBought = this.credit;\n        this.countOfBoughtCurrency = this.countOfCurrencyForSale;\n        this.nameOfBoughtCurrency = this.currencyForSale;\n        this.credit = this.credit - this.countOfCurrencyToBuy;\n        this.sumOfBought = this.sumOfBought - this.credit;\n        if (this.credit < 0) {\n          this.credit = 0;\n        }\n      }\n    },\n    convertMoneyToUah() {\n      console.log(\n        \"Price \" +\n          this.info.filter((el) => el.name === this.currencyToBuy)[0].price\n      );\n      console.log(this.countOfCurrencyToBuy);\n      console.log(this.info.filter((el) => el.name === \"UAH\")[0].price);\n      let res = 0;\n      if (this.currencyForSale !== \"UAH\") {\n        res =\n          this.info.filter((el) => el.name === this.currencyForSale)[0].price *\n          this.countOfCurrencyForSale *\n          this.info.filter((el) => el.name === \"UAH\")[0].price;\n      } else {\n        res = this.countOfCurrencyForSale;\n      }\n      return res;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  *,\n  *::before,\n  *::after {\n    box-sizing: border-box;\n  }\n  ul[class],\n  ol[class] {\n    padding: 0;\n  }\n  body,\n  h1,\n  h2,\n  h3,\n  h4,\n  p,\n  ul[class],\n  ol[class],\n  li,\n  figure,\n  figcaption,\n  blockquote,\n  dl,\n  dd {\n    margin: 0;\n  }\n  body {\n    min-height: 100vh;\n    scroll-behavior: smooth;\n    text-rendering: optimizeSpeed;\n    line-height: 1.5;\n  }\n  ul[class],\n  ol[class] {\n    list-style: none;\n  }\n  a:not([class]) {\n    text-decoration-skip-ink: auto;\n  }\n  img {\n    max-width: 100%;\n    display: block;\n  }\n  article > * + * {\n    margin-top: 1em;\n  }\n  input,\n  button,\n  textarea,\n  select {\n    font: inherit;\n  }\n  @media (prefers-reduced-motion: reduce) {\n    * {\n      animation-duration: 0.01ms !important;\n      animation-iteration-count: 1 !important;\n      transition-duration: 0.01ms !important;\n      scroll-behavior: auto !important;\n    }\n  }\n}\n</style>\n"],"sourceRoot":""}]}